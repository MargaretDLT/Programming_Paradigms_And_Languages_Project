{"ast":null,"code":"var _jsxFileName = \"/Users/meg/Desktop/final-project-musically-challenged-masters/client/src/instruments/abdullahsharafsfsu.tsx\",\n    _s = $RefreshSig$();\n\n// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React, { useState } from 'react';\nimport fluteElementImg from '../img/part1.png'; // project imports\n\nimport { Instrument } from '../Instruments';\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Pan Flute.\n ** ------------------------------------------------------------------------ */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function PanFluteKey({\n  note,\n  tubes,\n  index,\n  synthFM,\n  panFluteLevels\n}) {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n  function adjustFluteSize() {\n    if (panFluteLevels === \"Premium\") {\n      return -(7 + index * -0.52);\n    }\n\n    if (panFluteLevels === \"Standard\") {\n      return -(6 + index * -0.73);\n    } else {\n      return -6 + index * 1.5;\n    }\n  }\n\n  return (\n    /*#__PURE__*/\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    _jsxDEV(\"div\", {\n      onMouseDown: () => synthFM === null || synthFM === void 0 ? void 0 : synthFM.triggerAttackRelease(`${note}`, \"2n\") //1n\n      ,\n      className: classNames('ba pointer absolute dim', {\n        'bg-yellow black h': tubes\n      }),\n      style: {\n        // CSS\n        top: 10,\n        bottom: `${adjustFluteSize()}rem`,\n        left: `${index * 2}rem`,\n        zIndex: 1,\n        width: '2rem',\n        marginLeft: '1rem',\n        borderRadius: '7px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: fluteElementImg,\n          alt: \"img\",\n          style: {\n            width: '2rem',\n            top: 0,\n            marginTop: '1rem',\n            borderRadius: '5px',\n            zIndex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  );\n} // eslint-disable-next-line\n\n_c = PanFluteKey;\n\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  tubes,\n  index\n}) {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return /*#__PURE__*/React.createElement('div', {\n    onMouseDown: () => synth === null || synth === void 0 ? void 0 : synth.triggerAttack(`${note}`),\n    onMouseUp: () => synth === null || synth === void 0 ? void 0 : synth.triggerRelease('+0.25'),\n    className: classNames('ba pointer absolute dim', {\n      'bg-black black h3': tubes,\n      'black bg-white h4': !tubes\n    }),\n    style: {\n      top: 0,\n      left: `${index * 2}rem`,\n      zIndex: tubes ? 1 : 0,\n      width: tubes ? '1.5rem' : '2rem',\n      marginLeft: tubes ? '0.25rem' : 0\n    }\n  }, []);\n}\n\n_c2 = PianoKeyWithoutJSX;\n\nfunction PanFluteType({\n  title,\n  onClick,\n  active\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n      'b--black black': active,\n      'gray b--light-gray': !active\n    }),\n    style: {\n      borderRadius: 10,\n      borderWidth: 1.4\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = PanFluteType;\n\nfunction PanFluteLevel({\n  title,\n  onClick,\n  active\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    className: classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n      'b--black black': active,\n      'gray b--light-gray': !active\n    }),\n    style: {\n      borderRadius: 15,\n      backgroundColor: \"lightgray\",\n      padding: 10,\n      borderWidth: 1.3,\n      marginTop: 1\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = PanFluteLevel;\n\nfunction PanFlute({\n  synth,\n  setSynth\n}) {\n  _s();\n\n  const getType = [];\n  const keys = List([{\n    note: 'C',\n    idx: 0\n  }, {\n    note: 'D',\n    idx: 1\n  }, {\n    note: 'E',\n    idx: 2\n  }, {\n    note: 'F',\n    idx: 3\n  }, {\n    note: 'G',\n    idx: 4\n  }, {\n    note: 'A',\n    idx: 5\n  }, {\n    note: 'B',\n    idx: 6\n  }]);\n  const [lev, setLev] = useState('School');\n\n  const setOscillator = newType => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n      return new Tone.Synth({\n        oscillator: {\n          type: newType\n        }\n      }).toDestination();\n    });\n  };\n\n  const setLevel = newLevel => {\n    setLev(newLevel);\n  };\n\n  const oscillators = List(['sine', 'sawtooth', 'square', 'triangle', 'fmsine', 'fmsawtooth', 'fmtriangle', 'amsine', 'amsawtooth', 'amtriangle']);\n  const levels = List(['Premium', 'Standard', 'School']);\n  getType.push(synth === null || synth === void 0 ? void 0 : synth.oscillator.type);\n  const synthFM = new Tone.FMSynth({\n    oscillator: {\n      type: getType[0]\n    }\n  }).toDestination();\n  synthFM.harmonicity.value = 1;\n\n  function rangLevel() {\n    if (lev === \"Premium\") {\n      return [2, 5];\n    }\n\n    if (lev === \"Standard\") {\n      return [2, 4];\n    } else {\n      return [2, 3];\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pv\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: ' pl4 flex',\n      children: levels.map(o => /*#__PURE__*/_jsxDEV(PanFluteLevel, {\n        title: o,\n        onClick: () => setLevel(o),\n        active: lev === o\n      }, o, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative dib h4 w-100 ml4\",\n      style: {\n        top: 5,\n        zIndex: 1,\n        width: '2rem'\n      },\n      children: Range(rangLevel()[0], rangLevel()[1]).map(octave => keys.map(key => {\n        const notMinor = key.note.indexOf('b') === -1;\n        const note = `${key.note}${octave}`;\n        return /*#__PURE__*/_jsxDEV(PanFluteKey, {\n          //react key\n          note: note,\n          synthFM: synthFM,\n          tubes: notMinor,\n          octave: octave,\n          index: (octave - 2) * 7 + key.idx,\n          panFluteLevels: lev\n        }, note, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 17\n        }, this);\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pv6 pl4 flex \",\n      children: oscillators.map(o => /*#__PURE__*/_jsxDEV(PanFluteType, {\n        title: o,\n        onClick: () => setOscillator(o),\n        active: (synth === null || synth === void 0 ? void 0 : synth.oscillator.type) === o\n      }, o, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PanFlute, \"bqqeVWw7ayIdJ6xaH3dg7vYmB5o=\");\n\n_c5 = PanFlute;\nexport const PanFluteInstrument = new Instrument('abdullahsharafsfsu', PanFlute); // RESOURCES USED: https://p5js.org/reference/#/p5.FFT, STACK OVERFLOW, YOUTUBE\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"PanFluteKey\");\n$RefreshReg$(_c2, \"PianoKeyWithoutJSX\");\n$RefreshReg$(_c3, \"PanFluteType\");\n$RefreshReg$(_c4, \"PanFluteLevel\");\n$RefreshReg$(_c5, \"PanFlute\");","map":{"version":3,"sources":["/Users/meg/Desktop/final-project-musically-challenged-masters/client/src/instruments/abdullahsharafsfsu.tsx"],"names":["Tone","classNames","List","Range","React","useState","fluteElementImg","Instrument","PanFluteKey","note","tubes","index","synthFM","panFluteLevels","adjustFluteSize","triggerAttackRelease","top","bottom","left","zIndex","width","marginLeft","borderRadius","marginTop","PianoKeyWithoutJSX","synth","createElement","onMouseDown","triggerAttack","onMouseUp","triggerRelease","className","style","PanFluteType","title","onClick","active","borderWidth","PanFluteLevel","backgroundColor","padding","PanFlute","setSynth","getType","keys","idx","lev","setLev","setOscillator","newType","oldSynth","disconnect","Synth","oscillator","type","toDestination","setLevel","newLevel","oscillators","levels","push","FMSynth","harmonicity","value","rangLevel","map","o","octave","key","notMinor","indexOf","PanFluteInstrument"],"mappings":"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","sourcesContent":["// 3rd party library imports\nimport * as Tone from 'tone';\nimport classNames from 'classnames';\nimport { List, Range } from 'immutable';\nimport React, { useState } from 'react';\nimport fluteElementImg from '../img/part1.png'\n\n// project imports\nimport { Instrument, InstrumentProps } from '../Instruments';\n\n/** ------------------------------------------------------------------------ **\n * Contains implementation of components for Pan Flute.\n ** ------------------------------------------------------------------------ */\n\ninterface PanFluteKeyProps {\n  note: string; // C, Db, D, Eb, E, F, Gb, G, Ab, A, Bb, B\n  duration?: string;\n  synth?: Tone.Synth; // Contains library code for making sound\n  tubes?: boolean; // True if minor key, false if major key\n  octave: number;\n  index: number; // octave + index together give a location for the piano key\n  synthFM?: Tone.FMSynth; // Contains library code for making sound\n  panFluteLevels?: String | null,\n}\n\nexport function PanFluteKey({\n  note,\n  tubes,\n  index,\n  synthFM,\n  panFluteLevels,\n}: PanFluteKeyProps): JSX.Element {\n  /**\n   * This React component corresponds to either a major or minor key in the piano.\n   * See `PianoKeyWithoutJSX` for the React component without JSX.\n   */\n\n  function adjustFluteSize(): number {\n    if (panFluteLevels === \"Premium\") {\n      return -(7 + index * -0.52);\n    }\n    if (panFluteLevels === \"Standard\") {\n      return -(6 + index * -0.73);\n    }\n    else {\n      return -6 + index * 1.5;\n    }\n  }\n\n  return (\n    // Observations:\n    // 1. The JSX refers to the HTML-looking syntax within TypeScript.\n    // 2. The JSX will be **transpiled** into the corresponding `React.createElement` library call.\n    // 3. The curly braces `{` and `}` should remind you of string interpolation.\n    <div\n      onMouseDown={() => synthFM?.triggerAttackRelease(`${note}`, \"2n\")} //1n\n      className={classNames('ba pointer absolute dim', {\n        'bg-yellow black h': tubes,\n      })}\n      style={{\n        // CSS\n        top: 10,\n        bottom: `${adjustFluteSize()}rem`,\n        left: `${index * 2}rem`,\n        zIndex: 1,\n        width: '2rem',\n        marginLeft: '1rem',\n        borderRadius: '7px',\n      }}\n    >\n      <div className=\"logo\">\n        <img src={fluteElementImg} alt=\"img\"\n          style={{\n            width: '2rem',\n            top: 0,\n            marginTop: '1rem',\n            borderRadius: '5px',\n            zIndex: 1,\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\n// eslint-disable-next-line\nfunction PianoKeyWithoutJSX({\n  note,\n  synth,\n  tubes,\n  index,\n}: PanFluteKeyProps): JSX.Element {\n  /**\n   * This React component for pedagogical purposes.\n   * See `PianoKey` for the React component with JSX (JavaScript XML).\n   */\n  return React.createElement(\n    'div',\n    {\n      onMouseDown: () => synth?.triggerAttack(`${note}`),\n      onMouseUp: () => synth?.triggerRelease('+0.25'),\n      className: classNames('ba pointer absolute dim', {\n        'bg-black black h3': tubes,\n        'black bg-white h4': !tubes,\n      }),\n      style: {\n        top: 0,\n        left: `${index * 2}rem`,\n        zIndex: tubes ? 1 : 0,\n        width: tubes ? '1.5rem' : '2rem',\n        marginLeft: tubes ? '0.25rem' : 0,\n      },\n    },\n    [],\n  );\n}\n\nfunction PanFluteType({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n      style={{\n        borderRadius: 10,\n        borderWidth: 1.4,\n      }}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction PanFluteLevel({ title, onClick, active }: any): JSX.Element {\n  return (\n    <div\n      onClick={onClick}\n      className={classNames('dim pointer ph2 pv1 ba mr2 br1 fw7 bw1', {\n        'b--black black': active,\n        'gray b--light-gray': !active,\n      })}\n\n      style={{\n        borderRadius: 15,\n        backgroundColor: \"lightgray\",\n        padding: 10,\n        borderWidth: 1.3,\n        marginTop: 1\n      }}\n    >\n      {title}\n    </div>\n  );\n}\n\nfunction PanFlute({ synth, setSynth }: InstrumentProps): JSX.Element {\n\n  const getType = [];\n\n  const keys = List([\n    { note: 'C', idx: 0 },\n    { note: 'D', idx: 1 },\n    { note: 'E', idx: 2 },\n    { note: 'F', idx: 3 },\n    { note: 'G', idx: 4 },\n    { note: 'A', idx: 5 },\n    { note: 'B', idx: 6 },\n\n  ]);\n\n  const [lev, setLev] = useState<String | null>('School');\n\n  const setOscillator = (newType: Tone.ToneOscillatorType) => {\n    setSynth(oldSynth => {\n      oldSynth.disconnect();\n\n      return new Tone.Synth({\n        oscillator: { type: newType } as Tone.OmniOscillatorOptions,\n      }).toDestination();\n    });\n  };\n\n  const setLevel = (newLevel: String) => {\n    setLev(newLevel);\n  };\n\n  const oscillators: List<OscillatorType> = List([\n    'sine',\n    'sawtooth',\n    'square',\n    'triangle',\n    'fmsine',\n    'fmsawtooth',\n    'fmtriangle',\n    'amsine',\n    'amsawtooth',\n    'amtriangle',\n  ]) as List<OscillatorType>;\n\n  const levels: List<String> = List([\n    'Premium',\n    'Standard',\n    'School',\n  ]) as List<String>;\n\n  getType.push(synth?.oscillator.type);\n\n  const synthFM = new Tone.FMSynth({\n    oscillator: {\n      type: getType[0]\n    } as Tone.OmniOscillatorOptions,\n  }).toDestination();\n\n  synthFM.harmonicity.value = 1;\n\n  function rangLevel(): Array<number> {\n    if (lev === \"Premium\") {\n      return [2, 5];\n    }\n    if (lev === \"Standard\") {\n      return [2, 4];\n    }\n    else {\n      return [2, 3];\n    }\n  }\n\n  return (\n    <div className=\"pv\">\n      <div className={' pl4 flex'}>\n        {levels.map(o => (\n          <PanFluteLevel\n            key={o}\n            title={o}\n            onClick={() => setLevel(o)}\n            active={lev === o}\n          />\n        ))}\n      </div>\n      <div className=\"relative dib h4 w-100 ml4\"\n        style={{\n          top: 5,\n          zIndex: 1,\n          width: '2rem',\n        }}\n      >\n        {\n          Range(rangLevel()[0], rangLevel()[1]).map(octave => \n            keys.map(key => {\n              const notMinor = key.note.indexOf('b') === -1;\n              const note = `${key.note}${octave}`;\n              return (\n                <PanFluteKey\n                  key={note} //react key\n                  note={note}\n                  synthFM={synthFM}\n                  tubes={notMinor}\n                  octave={octave}\n                  index={(octave - 2) * 7 + key.idx}\n                  panFluteLevels={lev}\n                />\n              );\n            }),\n          )}\n      </div>\n      <div className='pv6 pl4 flex '>\n        {oscillators.map(o => (\n          <PanFluteType\n            key={o}\n            title={o}\n            onClick={() => setOscillator(o)}\n            active={synth?.oscillator.type === o}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const PanFluteInstrument = new Instrument('abdullahsharafsfsu', PanFlute);\n\n// RESOURCES USED: https://p5js.org/reference/#/p5.FFT, STACK OVERFLOW, YOUTUBE\n"]},"metadata":{},"sourceType":"module"}